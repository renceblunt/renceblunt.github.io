<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rence Blunt Poetry | Silent Depth</title>
  <link rel="stylesheet" href="style.css">
    <link rel="icon" type="png" href="images/logo.png" />
<meta name="google-site-verification" content="soceiczGrFx4It0-P5sYiqRyMMycbq-GsCQ3yOh84hY" />
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Rence Blunt Poetry | Silent Depth",
  "url": "https://renceblunt.github.io",
  "logo": "https://renceblunt.github.io/images/logo.png",
  "sameAs": [
    "https://github.com/renceblunt",
    "https://renceblunt.github.io"
  ]
}
</script>

<link rel="apple-touch-icon" href="images/logo.png">
<meta property="og:image" content="https://renceblunt.github.io/images/logo.png">
<meta name="twitter:image" content="https://renceblunt.github.io/images/logo.png">
<link rel="sitemap" type="application/xml" title="Sitemap" href="https://renceblunt.github.io/sitemap.xml">
<link rel="canonical" href="https://renceblunt.github.io/">

</head>
<body>
<!-- Navbar -->
<nav class="navbar">
  <div class="logo">Rence Blunt Poetry</div>
  <div class="menu-toggle" id="menu-toggle">☰</div>
  <div class="nav-links" id="nav-links">
    <a href="index.html" class="active">Home</a>
    <a href="poems.html">Poems</a>
    <a href="poemslink.html">Links</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>

    <!-- Login link -->
    <a href="users-login.html" id="profile-link">Login</a>

    <!-- Logged-in dropdown -->
    <div id="user-dropdown" class="user-dropdown" style="display:none;">
      <span id="username-display"></span> ▼
      <div id="dropdown-content" class="dropdown-content">
        <a href="#" id="logoutBtn">Logout</a>
      </div>
    </div>
  </div>
</nav>

  <!-- Hero -->
  <section class="hero">
    <h1>Welcome to Silent Depth</h1>
    <p>I might be quiet, but I'm full of words. You are invited to read, like, comment, and share the words poured out of my inner chamber.</p>
    <p></p>
  </section>
<!-- Weekly Highlights -->

<!-- Recent Poems Container (below weekly highlights) -->
<!-- Weekly Highlights -->
<section class="weekly-container">
  
  <!-- Left column: Quote + Categories -->
  <div class="weekly-left">
    <!-- Quote -->
    <div class="weekly-card quote-card">
      <h2 class="weekly-title">Quote of the Week</h2>
      <p id="weekly-quote"><em>Loading quote...</em></p>
      <span id="quote-author" class="author"></span>
    </div>

    <!-- Categories (directly under quote) -->
    <div id="poem-categories-container">
      <h4 class="categories-title">Categories</h4>
      <div id="poem-categories"></div>
    </div>
  </div>

  <!-- Right column: Poem -->
  <div class="weekly-card poem-card">
    <h2 class="weekly-title">Poem of the Week</h2>
    <div id="poem-title"></div>
    <p id="weekly-poem"><em>Loading poem...</em></p>
    <span id="poem-author" class="author"></span>
  </div>

</section>



<!-- Recent Poems Section -->
<section class="recent-poems-section" style="position: relative;">
<h2 class="recent-poems-heading">Recent Poems</h2>
  <input type="text" id="recent-poems-search" placeholder="Search..." />
  
  <div id="recent-poems-container" class="recent-poems-container">
    <p>Loading recent poems...</p>
  </div>
</section>

  <!-- Load More Button -->
  <div style="text-align: center; margin-top: 15px;">
    <button id="load-more-poems" style="
      padding: 8px 16px;
      border: none;
      background: #333;
      color: #fff;
      border-radius: 5px;
      cursor: pointer;
    ">Load More</button>
  </div>
</section>




<script type="module" src="script.js"></script>

<script type="module">
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";

const firebaseConfig = {
  apiKey: "AIzaSyC4DHI8aBVY4JjTvJ-r-TGIDPsewtEWxzU",
  authDomain: "silent-depth.firebaseapp.com",
  projectId: "silent-depth",
  storageBucket: "silent-depth.appspot.com",
  messagingSenderId: "78008755450",
  appId: "1:78008755450:web:3fd0f0f298a08820935543"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

(async function fetchBottomCategories() {
  try {
    const snapshot = await getDocs(collection(db, "recentPoems"));
    const categorySet = new Set();

    snapshot.forEach(docSnap => {
      const data = docSnap.data();
      if (data.categories && Array.isArray(data.categories)) {
        data.categories.forEach(cat => categorySet.add(cat.trim()));
      }
    });

    const sortedCategories = Array.from(categorySet).sort((a, b) => a.localeCompare(b));
    const container = document.getElementById("bottom-poem-categories");
    if (!container) return;

    container.innerHTML = "";

    const limit = 20;
    sortedCategories.forEach((cat, index) => {
      if (index < limit) {
        const span = document.createElement("span");
        span.textContent = cat;
        span.className = "poem-category";
        span.addEventListener("click", () => {
          window.location.href = `category.html?name=${encodeURIComponent(cat)}`;
        });
        container.appendChild(span);
      }
    });

    if (sortedCategories.length > limit) {
      const allSpan = document.createElement("span");
      allSpan.textContent = "All »";
      allSpan.className = "all-categories";
      allSpan.addEventListener("click", () => {
        window.location.href = "all-categories.html";
      });
      container.appendChild(allSpan);
    }

  } catch (err) {
    console.error("❌ Error fetching bottom categories:", err);
  }
})();
</script>

<!-- Bottom Categories (only on small screens) -->
<section id="bottom-categories-section" class="bottom-categories">
  <h4 class="categories-title">Categories</h4>
  <div id="bottom-poem-categories"></div>
</section>

<footer class="site-footer">
  <div class="footer-container">
    <p>&copy; 2025 Rence Blunt. All rights reserved.</p>
  </div>
</footer>

  <script src="script.js"></script>
  
</body>
</html>
